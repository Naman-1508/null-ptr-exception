11. Write a java servlet program that takes name and age from an HTML page. If the
age is less than 18, it should send a page with “Hello _______(name), you are not
authorized to visit the site” message, where “_________” in the message should be
replaced with the entered name. Otherwise it should send “Welcome to this site” message.
Create Dynamic Web Project
File → New → Dynamic Web Project
Project Name: CheckAge
Target runtime: Apache Tomcat v9.0
Dynamic Web Module Version: 3.1
Finish.
This creates the standard structure:
WebContent/
index.html
WEB-INF/
web.xml
src/
...
Create the HTML Form
Right-click WebContent → New → HTML File
File name: index.html
HTML Form (name: index.html)
index.html:
<html>
<head>
<title>VoterApp</title>
</head>
<body>
<form action= "http://localhost:8080/CheckAge/check" method="get">
<fieldset style="width:20%; background-color:#80ffcc">
<table>
<tr><td>Name</td><td><input type="text" name="name"></td></tr>

<tr><td>Age</td><td><input type="text" name="age"></td></tr>
<tr><td></td>
<td><input type = "submit" value="Check Eligibility"></td></tr>
</table>
</fieldset>
</form>
</body>
</html>
Create the Servlet
Right-click src → New → Servlet
Servlet Name: VoterSrv
Replace auto-generated code with:
Java Servlet Program
//VoterSrv.java:
import java.io.*;
import java.util.*;
import javax.servlet.*;
import javax.servlet.http.*;
public class VoterSrv extends HttpServlet
{
public void service(HttpServletRequest req, HttpServletResponse res) throws
IOException,ServletException
{
//set response content type
res.setContentType("text/html");
//get printWrite obj
PrintWriter pw = res.getWriter();
//read form data from page as request parameter
String name = req.getParameter("name");
int age = Integer.parseInt(req.getParameter("age"));
if (age>=18)
{
pw.println("<font color='green' size='4'>Welcome "+name+" to this site</font>");
}
else
pw.println("<font color='red' size='4'>Hello "+name+", you are not authorized to
visit the site</font>");
//add hyperlink to dynamic page
pw.println("<br><br><a href= 'index.html'>back</a>");
//close the stream
pw.close();
}
}
Map the Servlet in web.xml
(If Eclipse already created annotation mapping, skip this step.)
Open:
WebContent → WEB-INF → web.xml
Add inside <web-app>:
web.xml:
<web-app>
<servlet>
<servlet-name>abc</servlet-name>
<servlet-class>VoterSrv</servlet-class>

</servlet>
<servlet-mapping>
<servlet-name>abc</servlet-name>
<url-pattern>/check</url-pattern>
</servlet-mapping>
</web-app>
Configure Tomcat in Eclipse
Bottom panel → Servers tab
(If not visible → Window → Show View → Servers)
Click: No servers → Create a new server
Select:
Apache → Tomcat v9.0 Server
Run the Project on Tomcat
Right-click project → Run As → Run on Server
Choose Tomcat v9.0 → Finish.
Your project runs at:
http://localhost:8080/CheckAge/
